<svg viewBox="0 0 700 480" xmlns="http://www.w3.org/2000/svg">
    <title>SmartChannels Architecture Diagram</title>

    <!-- Dark background -->
    <rect width="700" height="480" rx="12" fill="#0d1117"/>

    <defs>
        <linearGradient id="grad-blue" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#3b82f6"/><stop offset="100%" stop-color="#6366f1"/></linearGradient>
        <linearGradient id="grad-purple" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#818cf8"/><stop offset="100%" stop-color="#a78bfa"/></linearGradient>
        <linearGradient id="grad-green" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#34d399"/><stop offset="100%" stop-color="#3b82f6"/></linearGradient>
        <linearGradient id="grad-yellow" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#f59e0b"/></linearGradient>
        <marker id="arrow" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#4b5563"/></marker>
    </defs>

    <!-- Channels row (7 channels) -->
    <rect x="20" y="30" width="82" height="36" rx="8" fill="#111827" stroke="url(#grad-blue)" stroke-width="1.5"/>
    <text x="61" y="53" text-anchor="middle" fill="#93c5fd" font-size="10" font-weight="600" font-family="system-ui,sans-serif">Web Chat</text>

    <rect x="112" y="30" width="88" height="36" rx="8" fill="#111827" stroke="url(#grad-blue)" stroke-width="1.5"/>
    <text x="156" y="53" text-anchor="middle" fill="#93c5fd" font-size="10" font-weight="600" font-family="system-ui,sans-serif">WhatsApp</text>

    <rect x="210" y="30" width="88" height="36" rx="8" fill="#111827" stroke="url(#grad-blue)" stroke-width="1.5"/>
    <text x="254" y="53" text-anchor="middle" fill="#93c5fd" font-size="10" font-weight="600" font-family="system-ui,sans-serif">Telegram</text>

    <rect x="308" y="30" width="70" height="36" rx="8" fill="#111827" stroke="url(#grad-blue)" stroke-width="1.5"/>
    <text x="343" y="53" text-anchor="middle" fill="#93c5fd" font-size="10" font-weight="600" font-family="system-ui,sans-serif">Slack</text>

    <rect x="388" y="30" width="78" height="36" rx="8" fill="#111827" stroke="url(#grad-blue)" stroke-width="1.5"/>
    <text x="427" y="53" text-anchor="middle" fill="#93c5fd" font-size="10" font-weight="600" font-family="system-ui,sans-serif">Discord</text>

    <rect x="476" y="30" width="60" height="36" rx="8" fill="#111827" stroke="url(#grad-blue)" stroke-width="1.5"/>
    <text x="506" y="53" text-anchor="middle" fill="#93c5fd" font-size="10" font-weight="600" font-family="system-ui,sans-serif">SMS</text>

    <rect x="546" y="30" width="82" height="36" rx="8" fill="#111827" stroke="url(#grad-blue)" stroke-width="1.5"/>
    <text x="587" y="53" text-anchor="middle" fill="#93c5fd" font-size="10" font-weight="600" font-family="system-ui,sans-serif">iMessage</text>

    <!-- Arrows: Channels → Pipeline -->
    <line x1="61" y1="66" x2="350" y2="120" stroke="#4b5563" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="156" y1="66" x2="350" y2="120" stroke="#4b5563" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="254" y1="66" x2="350" y2="120" stroke="#4b5563" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="343" y1="66" x2="350" y2="120" stroke="#4b5563" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="427" y1="66" x2="350" y2="120" stroke="#4b5563" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="506" y1="66" x2="350" y2="120" stroke="#4b5563" stroke-width="1" marker-end="url(#arrow)"/>
    <line x1="587" y1="66" x2="350" y2="120" stroke="#4b5563" stroke-width="1" marker-end="url(#arrow)"/>

    <!-- Security boundary line -->
    <line x1="50" y1="90" x2="650" y2="90" stroke="#374151" stroke-width="1" stroke-dasharray="6,4"/>
    <text x="350" y="106" text-anchor="middle" fill="#e2e8f0" font-size="10" font-weight="500" font-family="system-ui,sans-serif">7-layer defense-in-depth security boundary</text>

    <!-- Processing pipeline -->
    <rect x="110" y="125" width="480" height="70" rx="10" fill="#111827" stroke="url(#grad-purple)" stroke-width="1.5"/>
    <text x="350" y="148" text-anchor="middle" fill="#c4b5fd" font-size="12" font-weight="600" font-family="system-ui,sans-serif">Message Processing Pipeline</text>
    <text x="350" y="168" text-anchor="middle" fill="#9ca3af" font-size="10" font-family="system-ui,sans-serif">Security → Dedup → Rate Limit → Session → Context</text>
    <text x="350" y="184" text-anchor="middle" fill="#9ca3af" font-size="10" font-family="system-ui,sans-serif">Classify → Agent → Format → Respond</text>

    <!-- OTel box (left side) -->
    <rect x="30" y="140" width="70" height="40" rx="8" fill="#111827" stroke="#374151" stroke-width="1"/>
    <text x="65" y="158" text-anchor="middle" fill="#9ca3af" font-size="10" font-family="system-ui,sans-serif">OTel</text>
    <text x="65" y="172" text-anchor="middle" fill="#6b7280" font-size="9" font-family="system-ui,sans-serif">Traces</text>
    <line x1="100" y1="160" x2="130" y2="160" stroke="#4b5563" stroke-width="1" marker-end="url(#arrow)"/>

    <!-- MCP Skills box (right side) -->
    <rect x="600" y="140" width="80" height="40" rx="8" fill="#111827" stroke="#374151" stroke-width="1"/>
    <text x="640" y="158" text-anchor="middle" fill="#9ca3af" font-size="10" font-family="system-ui,sans-serif">MCP Skills</text>
    <text x="640" y="172" text-anchor="middle" fill="#6b7280" font-size="9" font-family="system-ui,sans-serif">Tools</text>
    <line x1="600" y1="160" x2="570" y2="160" stroke="#4b5563" stroke-width="1" marker-end="url(#arrow)"/>

    <!-- Arrows: Pipeline → LLM boxes -->
    <line x1="260" y1="195" x2="180" y2="240" stroke="#4b5563" stroke-width="1.5" marker-end="url(#arrow)"/>
    <line x1="440" y1="195" x2="520" y2="240" stroke="#4b5563" stroke-width="1.5" marker-end="url(#arrow)"/>

    <!-- Ollama box -->
    <rect x="80" y="245" width="200" height="56" rx="10" fill="#111827" stroke="url(#grad-green)" stroke-width="1.5"/>
    <text x="180" y="268" text-anchor="middle" fill="#6ee7b7" font-size="13" font-weight="600" font-family="system-ui,sans-serif">Ollama</text>
    <text x="180" y="286" text-anchor="middle" fill="#9ca3af" font-size="10" font-family="system-ui,sans-serif">Local / Free — Qwen3 · Llama 3.1</text>

    <!-- llm-gateway box -->
    <rect x="420" y="245" width="200" height="56" rx="10" fill="#111827" stroke="url(#grad-green)" stroke-width="1.5"/>
    <text x="520" y="268" text-anchor="middle" fill="#6ee7b7" font-size="13" font-weight="600" font-family="system-ui,sans-serif">llm-gateway-go</text>
    <text x="520" y="286" text-anchor="middle" fill="#9ca3af" font-size="10" font-family="system-ui,sans-serif">Cloud — 24 providers</text>

    <!-- Cascade label -->
    <text x="350" y="270" text-anchor="middle" fill="#6b7280" font-size="9" font-style="italic" font-family="system-ui,sans-serif">hybrid cascade</text>

    <!-- Arrows: LLMs → Database -->
    <line x1="180" y1="301" x2="260" y2="350" stroke="#4b5563" stroke-width="1.5" marker-end="url(#arrow)"/>
    <line x1="520" y1="301" x2="440" y2="350" stroke="#4b5563" stroke-width="1.5" marker-end="url(#arrow)"/>

    <!-- Database layer -->
    <rect x="150" y="350" width="400" height="70" rx="10" fill="#111827" stroke="url(#grad-yellow)" stroke-width="1.5"/>
    <text x="240" y="376" text-anchor="middle" fill="#fcd34d" font-size="12" font-weight="600" font-family="system-ui,sans-serif">SQLite</text>
    <text x="350" y="376" text-anchor="middle" fill="#fcd34d" font-size="12" font-weight="600" font-family="system-ui,sans-serif">sqlite-vec</text>
    <text x="460" y="376" text-anchor="middle" fill="#fcd34d" font-size="12" font-weight="600" font-family="system-ui,sans-serif">FTS5</text>

    <!-- Dividers inside DB box -->
    <line x1="295" y1="360" x2="295" y2="410" stroke="#374151" stroke-width="1"/>
    <line x1="405" y1="360" x2="405" y2="410" stroke="#374151" stroke-width="1"/>

    <text x="350" y="402" text-anchor="middle" fill="#9ca3af" font-size="10" font-family="system-ui,sans-serif">One DB for everything. Zero ops.</text>

    <!-- Legend -->
    <rect x="150" y="442" width="12" height="12" rx="2" fill="none" stroke="url(#grad-blue)" stroke-width="1.5"/>
    <text x="168" y="452" fill="#9ca3af" font-size="9" font-family="system-ui,sans-serif">Channels</text>
    <rect x="240" y="442" width="12" height="12" rx="2" fill="none" stroke="url(#grad-purple)" stroke-width="1.5"/>
    <text x="258" y="452" fill="#9ca3af" font-size="9" font-family="system-ui,sans-serif">Processing</text>
    <rect x="340" y="442" width="12" height="12" rx="2" fill="none" stroke="url(#grad-green)" stroke-width="1.5"/>
    <text x="358" y="452" fill="#9ca3af" font-size="9" font-family="system-ui,sans-serif">Intelligence</text>
    <rect x="440" y="442" width="12" height="12" rx="2" fill="none" stroke="url(#grad-yellow)" stroke-width="1.5"/>
    <text x="458" y="452" fill="#9ca3af" font-size="9" font-family="system-ui,sans-serif">Storage</text>
</svg>
